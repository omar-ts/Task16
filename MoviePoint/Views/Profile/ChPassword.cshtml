@model PassUserVM
<link rel="stylesheet" href="~/css/chpassword.css" />

<div class="main_prof col-12">
    <div class="area_prof col-10">
        <div class="used_area_prof col-12">
            <div class="upper_pref col-12">
                <h2 class="h_upper_pref col-12">Manage your account</h2>
                <h3 class="h_upper_pref col-12">Chane your account settings</h3>
                <div class="line_upper_pref col-12"></div>
            </div>
            <div class="left_prof">
                <a asp-action="Index" class="a_left">Change Password</a>
                <a asp-action="ChEmail" class="a_left">Email</a>
                <a asp-action="ChPassword" class="a_left" style="color:white !important;background-color:blue">Password</a>
            </div>
            <div class="right_prof">
                <h4 class="col-12">Change password</h4>
                @if (TempData["Psuccess"] != null)
                {
                    <div class="success_msg col-12">
                        <p class="p_msg">@TempData["Psuccess"]</p>
                        <i class="fa-solid fa-xmark i_msg"></i>
                    </div>
                }
                <form asp-action="ChPassword" class="f_prof">
                    <input type="hidden" asp-for="UserName" value="@User.Identity.Name" />
                    <div class="form-floating col-12">
                        <input type="password" class="form-control" placeholder="" asp-for="CurrentPassword" />
                        <label asp-for="CurrentPassword">Current password</label>
                        <span asp-validation-for="CurrentPassword" class="span_in mb-2"></span>
                    </div>

                    <div class="form-floating col-12">
                        <input type="password" class="form-control" placeholder="" asp-for="NewPassword" />
                        <label asp-for="NewPassword">New password</label>
                        <span asp-validation-for="NewPassword" class="span_in mb-2"></span>
                    </div>

                    <div class="form-floating col-12">
                        <input type="password" class="form-control" placeholder="" asp-for="ConfirmPassword" />
                        <label asp-for="ConfirmPassword">Confirm password</label>
                        <span asp-validation-for="ConfirmPassword" class="span_in mb-2"></span>
                    </div>

                    <button class="btn_prof col-12" type="submit">Change Password</button>
                </form>
            </div>
        </div>
    </div>
</div>
<style>
    .upper_pref {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        align-content: flex-start;
        justify-content: flex-start;
        align-items: flex-start;
        gap: 0.5rem;
    }

    .h_upper_pref {
        margin: 0;
    }

    .line_upper_pref {
        height: 0.2vh;
        background-color: #00000045;
    }

</style>
@section Scripts {
    <partial name="_ValidationScriptsPartial.cshtml" />
    <script>
        const success_msg = document.querySelector(".success_msg");
        const i_msg = document.querySelector(".i_msg");
        i_msg.onclick = function () {
            success_msg.style.display = "none";
        };
    </script>
}